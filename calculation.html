<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOXSES</title>
    <link rel="icon" href="img/logo.jpg">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="ACE.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <script src="https://kit.fontawesome.com/d4a9614680.js" crossorigin="anonymous"></script>

    <style>

        body{
            background-color: #0A0A0A !important;
            height: 100vh;
            overflow: hidden;
        }
        button{
            background-color: #0A0A0A;
        }
        main{
            overflow-x: auto;
            background-color: #0A0A0A !important;
            height: 120vh;
        }
        table, th, td {
            border: 3px solid transparent;
            border-collapse: collapse;
        }
        *{
            color: white;
        }
    </style>

</head>
<body>
    <header>
        <div class="container-fluid border">
            <div class="row align-items-center border">
                <div class="col-1" id="logo_col">
                    <img src="img/logo.jpg" alt="logo" height="37px">
                </div>
                <div class="col " id="title_col">
                    <h3>BOXES</h3>
                </div>
                <div class="col-5" id="mineNav_col">
                    <div class="row">
                        <div class="col"><span class="material-symbols-outlined">search</span></div>
                        <div class="col"><a href="cart.html"><span class="material-symbols-outlined">shopping_cart</span></a></div>
                        <div class="col"><a href="log_in.html"><span class="material-symbols-outlined">login</span></a></div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!--navbar-->
    <nav>
        <div class="container-fluid border">
                <div class="row align-items-center border" id="nav_row">
                <div class="col border"><a href="index.html">Home</a></div>
                <div class="col border"><a href="products.html">Products</a></div>
                <div class="col border"><a href="contact.html">Contact</a></div>
                <div class="col border"><a href="about.html">About</a></div>
            </div>
        </div>
    </nav>

    <!--Main-->
    <main>
        
        <div class="container-fluid" id="cont_main" style="padding: 0px;">
            <div class="row" id="main_row" style="margin: 0;">
                <div class="col" style="width: 100%;">
                    <h2>Shopping Cart</h2>
  
                    <form id="cartForm" class="form-inline mb-3">
                      <label for="item" class="mr-2">Select Item:</label>
                      <select id="item" class="form-control mr-2">
                        <option value="item1" style="color: #0A0A0A;">product 1 - OMR10.00</option>
                        <option value="item2" style="color: #0A0A0A;">product 2 - OMR15.00</option>
                        <!-- Add more items as needed -->
                      </select>
                  
                      <label for="quantity" class="mr-2">Quantity:</label>
                      <input type="number" id="quantity" class="form-control mr-2" value="1" min="1">
                  
                      <button type="button" class="btn btn-primary" onclick="addToCart()">Add to Cart</button>
                    </form>
                  
                    <h2>Cart</h2>
                    <table id="cartTable" class="table">
                      <thead>
                        <tr style="color: white;">
                          <th>Item</th>
                          <th>Quantity</th>
                          <th>Price</th>
                          <th>Action</th>
                        </tr>
                      </thead>
                      <tbody id="cartBody">
                        <!-- Cart items will be added here dynamically -->
                      </tbody>
                    </table>
                  
                    <h2>Bill</h2>
                    <table id="billTable" class="table">
                      <thead>
                        <tr style="color: white;">
                          <th>Item</th>
                          <th>Quantity</th>
                          <th>Total</th>
                        </tr>
                      </thead>
                      <tbody id="billBody">
                        <!-- Bill items will be added here dynamically -->
                      </tbody>
                    </table>
                  
                    <p id="total">Total: OMR0.00</p>
                    <div class="d-flex" style="height: 10vh;">
                        <div class="vr"></div>
                    </div>
                
                    <script>
                        let cart = [];
                
                        function addToCart() {
                        const itemSelect = document.getElementById('item');
                        const quantityInput = document.getElementById('quantity');
                
                        const selectedItem = itemSelect.options[itemSelect.selectedIndex].text;
                        const quantity = parseInt(quantityInput.value);
                        const price = parseFloat(selectedItem.match(/OMR([\d.]+)/)[1]);
                        const total = quantity * price;
                
                        cart.push({ item: selectedItem, quantity, total });
                
                        updateCartTable();
                        updateBillTable();
                        }
                
                        function updateCartTable() {
                        const cartBody = document.getElementById('cartBody');
                        while (cartBody.firstChild) {
                            cartBody.removeChild(cartBody.firstChild);
                        }
                
                        cart.forEach(item => {
                            const row = cartBody.insertRow();
                            row.insertCell(0).textContent = item.item;
                            row.insertCell(1).textContent = item.quantity;
                            row.insertCell(2).textContent = 'OMR' + item.total.toFixed(2);
                
                            const deleteButton = document.createElement('button');
                            deleteButton.textContent = 'Remove';
                            deleteButton.addEventListener('click', () => removeFromCart(item));
                            row.insertCell(3).appendChild(deleteButton);
                        });
                        }
                
                        function updateBillTable() {
                        const billBody = document.getElementById('billBody');
                        while (billBody.firstChild) {
                            billBody.removeChild(billBody.firstChild);
                        }
                
                        let totalAmount = 0;
                
                        cart.forEach(item => {
                            const row = billBody.insertRow();
                            row.insertCell(0).textContent = item.item;
                            row.insertCell(1).textContent = item.quantity;
                            row.insertCell(2).textContent = 'OMR' + item.total.toFixed(2);
                
                            totalAmount += item.total;
                        });
                
                        const totalElement = document.getElementById('total');
                        totalElement.textContent = 'Total: OMR' + totalAmount.toFixed(2);
                        }
                
                        function removeFromCart(itemToRemove) {
                        cart = cart.filter(item => item !== itemToRemove);
                        updateCartTable();
                        updateBillTable();
                        }
                    </script>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container-fluid border" id="cont_footer">
            <div class="row" id="footer_row">
                <div class="col">
                    <h3>&copy;01 programmers</h3>
                </div>
            </div>
    </footer>
    <script src="tableValue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</body>
</html>